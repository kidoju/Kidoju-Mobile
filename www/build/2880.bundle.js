/*! Copyright ©2013-2021 Memba® Sarl. All rights reserved. - Version 0.3.8 dated Fri Apr 23 2021 */
(self.webpackChunkMemba_SmartQuiz=self.webpackChunkMemba_SmartQuiz||[]).push([[2880],{28490:function(e,t,a){"use strict";a.d(t,{Z:function(){return ee}});var n=a(92762),i=a.n(n),o=a(86902),s=a.n(o),r=a(14310),l=a.n(r),c=a(20116),d=a.n(c),u=a(34074),f=a.n(u),p=a(39649),h=a.n(p),m=a(73609),g=a.n(m),Z=(a(55031),a(70929)),v=a(52013),b=a(52426),w=a(51942),y=a.n(w),k=a(77766),S=a.n(k),_=a(21611),O=a.n(_),E=a(1068),T=a.n(E),D=a(62734),V=a.n(D),I=a(65420),C=a.n(I),N=a(98341),j=a.n(N),R=a(46121),A=a(3850),P=a(38256),B=a(10785);function L(e){return(L="function"==typeof C()&&"symbol"==typeof j()?function(e){return typeof e}:function(e){return e&&"function"==typeof C()&&e.constructor===C()&&e!==C().prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function M(e,t,a){return(M="undefined"!=typeof Reflect&&V()?V():function(e,t,a){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(n){var i=f()(n,t);return i.get?i.get.call(a):i.value}})(e,t,a||e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!T())return!1;if(T().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(T()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=H(e);if(t){var i=H(this).constructor;a=T()(n,arguments,i)}else a=n.apply(this,arguments);return F(this,a)}}function F(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return(H=Object.setPrototypeOf?O():function(e){return e.__proto__||O()(e)})(e)}var q=new A.Z("rapi.websearch"),$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(o,e);var t,a,n,i=U(o);function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(this,o),y()(t,{collection:"websearch"}),(e=i.call(this,t))._provider=t.provider,e._searchType=t.searchType,v.Z.type(b.Z.STRING,e._provider,v.Z.format(v.Z.messages.type.default,"options.provider",b.Z.STRING)),e}return t=o,(a=[{key:"_getUrl",value:function(e){return e===P.Z.METHOD.READ?(0,B.WU)(Z.Z.uris.rapi.web.search,this._provider):M(H(o.prototype),"_getUrl",this).call(this,e)}},{key:"_extendQuery",value:function(e){if("google"===this._provider){var t={q:""};return e&&d()(e)&&"and"===d()(e).logic&&Array.isArray(d()(e).filters)&&d()(e).filters.length>1&&"url"===d()(e).filters[1].field&&(t.q=d()(e).filters[1].value||""),t.type=this._searchType,t.language=R.Z.locale,t}return M(H(o.prototype),"_extendQuery",this).call(this,e)}},{key:"read",value:function(e){var t;v.Z.isPlainObjectOrUndef(e,v.Z.format(v.Z.messages.isPlainObjectOrUndef.default,"query"));var a=this._getUrl(P.Z.METHOD.READ),n=this._extendQuery(e);return q.info({message:"$.ajax",method:S()(t="".concat(this._collection,".")).call(t,P.Z.METHOD.READ),data:{url:a,q:n}}),g().ajax({cache:!0,data:n,headers:this._getHeaders(P.Z.METHOD.READ),type:P.Z.HTTP.GET,url:a})}}])&&z(t.prototype,a),n&&z(t,n),o}(P.Z),W=a(40793);function Q(e,t){var a=s()(e);if(l()){var n=l()(e);t&&(n=d()(n).call(n,(function(t){return f()(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var K=window.kendo.deepExtend,X={websearch:function(e,t){return v.Z.type(b.Z.STRING,"type",v.Z.format(v.Z.messages.type.default,"type",b.Z.STRING)),v.Z.isNonEmptyPlainObject(t,v.Z.format(v.Z.messages.isNonEmptyPlainObject.default,"params")),K({name:"Google",pageSize:t.pageSize,serverFiltering:!0,serverPaging:!0,transport:{read:function(e){new $({provider:t.provider,searchType:t.searchType}).read(e.data).then(e.success).catch(e.error)}}},t)}};function Y(e){v.Z.type(b.Z.STRING,e,v.Z.format(v.Z.messages.type.default,"type",b.Z.STRING)),v.Z.isNonEmptyPlainObject(Z.Z.assets[e],v.Z.format(v.Z.messages.isNonEmptyPlainObject.default,"app.assets.".concat(e)));for(var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(a),!0).forEach((function(t){J(e,t,a[t])})):h()?Object.defineProperties(e,h()(a)):Q(Object(a)).forEach((function(t){Object.defineProperty(e,t,f()(a,t))}))}return e}({},Z.Z.assets[e]),a=t.collections.length;a>0;a--){var n,o=t.collections[a-1];if(o.source)if(g().isFunction(X[o.source]))t.collections[a-1]=X[o.source](e,o.params||{});else i()(n=t.collections).call(n,a-1,1)}return t}var ee={audio:new W.Z(Y("audio")),icon:new W.Z(Y("icon")),image:new W.Z(Y("image")),video:new W.Z(Y("video"))}},37e3:function(e,t,a){"use strict";a.d(t,{x:function(){return p},Y:function(){return h}});var n=a(86902),i=a.n(n),o=a(73609),s=a.n(o),r=(a(82525),a(52013)),l=a(52426),c=a(84042),d=window.kendo.data,u=d.DataSource,f=d.ObservableArray,p=c.Z.define({id:"url",fields:{size:{type:l.Z.NUMBER,editable:!1},mime:{type:l.Z.STRING,editable:!1,nullable:!0},url:{type:l.Z.STRING,editable:!1,nullable:!0}},schemes:{},mime$:function(){var e=this.get("mime");if(e)return e;var t=this.get("url");return t?p.typeFormatter(t):"application/octet-stream"},name$:function(){return p.nameFormatter(this.get("url"))},size$:function(){return p.sizeFormatter(this.get("size"))},url$:function(){return p.scheme2http(this.get("url"),this.schemes)}});p.nameFormatter=function(e){return r.Z.type(l.Z.STRING,e,r.Z.format(r.Z.messages.type.default,"url",l.Z.STRING)),e.split("\\").pop().split("/").pop()},p.sizeFormatter=function(e){if(r.Z.type(l.Z.NUMBER,e,r.Z.format(r.Z.messages.type.default,"size",l.Z.NUMBER)),!e)return"";var t=e,a=" bytes";return e>=1073741824?(a=" GB",t/=1073741824):e>=1048576?(a=" MB",t/=1048576):e>=1024&&(a=" KB",t/=1024),Math.round(100*t)/100+a},p.typeFormatter=function(e){switch(r.Z.type(l.Z.STRING,e,r.Z.format(r.Z.messages.type.default,"url",l.Z.STRING)),e.split(".").pop().toLowerCase()){case"gif":return"image/gif";case"jpg":case"jpeg":return"image/jpeg";case"mp3":return"audio/mpeg";case"mp4":return"video/mp4";case"ogg":return"audio/ogg";case"ogv":return"video/ogg";case"png":return"image/png";case"svg":return"image/svg+xml";case"wav":return"audio/wav";case"webm":return"video/webm";default:return"application/octet-stream"}},p.scheme2http=function(e,t){r.Z.type(l.Z.STRING,e,r.Z.format(r.Z.messages.type.default,"uri",l.Z.STRING)),r.Z.type(l.Z.OBJECT,t,r.Z.format(r.Z.messages.type.default,"schemes",l.Z.OBJECT));var a=e;return i()(t).some((function(n){var i=!1;if(0===e.indexOf("".concat(n,"://"))){var o=t[n];a=o+("/"===o.charAt(o.length-1)?"":"/")+e.substr("".concat(n,"://").length),i=!0}return i})),a};var h=u.extend({init:function(e){var t=e&&e.schemes?p.define({schemes:e.schemes}):p;u.fn.init.call(this,s().extend(!0,{},e,{schema:{modelBase:t,model:t}}))}});h.create=function(e){var t=Array.isArray(e)||e instanceof f?{data:e}:e||{};if(!(t instanceof h)&&t instanceof u)throw new Error("Incorrect DataSource type. Only AssetDataSource instances are supported");return t instanceof h?t:new h(t)}},38970:function(e,t,a){"use strict";a.d(t,{Z:function(){return ze}});var n=a(77766),i=a.n(n),o=a(94473),s=a.n(o),r=a(86902),l=a.n(r),c=a(29828),d=a.n(c),u=a(14310),f=a.n(u),p=a(20116),h=a.n(p),m=a(34074),g=a.n(m),Z=a(39649),v=a.n(Z),b=a(73609),w=a.n(b),y=(a(55031),a(46121)),k=a(52426),S=a(2991),_=a.n(S),O=a(54804),E=a.n(O),T=a(3649),D=a.n(T),V=a(65420),I=a.n(V),C=a(19996),N=a.n(C),j=a(66419),R=a.n(j),A=(a(1700),a(13604),a(43817),a(10924),a(41621),a(20369),a(36723),a(41587),a(52013)),P=a(3850),B=a(37e3),L=a(51942),x=a.n(L);function z(e,t){var a=l()(e);if(f()){var n=f()(e);t&&(n=h()(n).call(n,(function(t){return g()(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){G(e,t,a[t])})):v()?Object.defineProperties(e,v()(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,g()(a,t))}))}return e}function G(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var U=window.kendo,F=U.template,H=U.ui.BaseDialog,q='<div class="k-widget k-notification k-notification-#: type #"><div class="k-notification-wrap"><span class="k-icon k-i-#: type #"></span>#: message #</div></div>';function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=w().Deferred(),a=H.getElement("kj-dialog-alert"),n=a.kendoBaseDialog(M({title:H.fn.options.messages.title[e.type||"info"],content:F(q)({type:e.type||"info",message:e.message||""}),actions:[H.fn.options.messages.actions.ok,H.fn.options.messages.actions.cancel]},e)).data("kendoBaseDialog");return n.bind(k.Z.CLICK,(function(e){t.resolve({action:e.action})})),n.open(),t.promise()}function W(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if(void 0!==I()&&null!=N()(e)||null!=e["@@iterator"])return R()(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=e&&(void 0!==I()&&N()(e)||e["@@iterator"]);if(null==a)return;var n,i,o=[],s=!0,r=!1;try{for(a=a.call(e);!(s=(n=a.next()).done)&&(o.push(n.value),!t||o.length!==t);s=!0);}catch(e){r=!0,i=e}finally{try{s||null==a.return||a.return()}finally{if(r)throw i}}return o}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){var a;if(e){if("string"==typeof e)return K(e,t);var n=D()(a=Object.prototype.toString.call(e)).call(a,8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?R()(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var X=window.FileList,Y=window.kendo,ee=Y.attr,te=Y.bind,ae=Y.data,ne=ae.DataSource,ie=ae.ObservableObject,oe=ae.Model,se=Y.destroy,re=Y.format,le=Y.observable,ce=Y.roleSelector,de=Y.template,ue=Y.ui,fe=ue.BaseDialog,pe=ue.DropDownList,he=ue.ListView,me=ue.Pager,ge=ue.plugin,Ze=ue.ProgressBar,ve=ue.TabStrip,be=ue.Widget,we=ue.Window,ye=Y.unbind,ke=new P.Z("widgets.assetmanager"),Se=".kendoAssetManager",_e=".kj-assetmanager-window",Oe='<li class="k-tile" '.concat(ee(k.Z.UID),'="#=uid#">')+'#if (/^image\\//.test(mime$())) {#<div class="k-thumb"><img alt="#=name$()#" src="#=url$()#" class="k-image"></span></div>#}else{#<div class="k-thumb"><span class="k-icon k-i-file"></span></div>#}#<strong>#=name$()#</strong><span class="k-filesize">#=size$()#</span></li>',Ee="create",Te="edit",De="destroy";function Ve(e,t,a){var n,i;e.on(k.Z.DRAGENTER+Se,(function(e){t(e),i=new Date,n||(n=setInterval((function(){new Date-i>100&&(a(),clearInterval(n),n=null)}),100))})).on(k.Z.DRAGOVER+Se,(function(){i=new Date}))}var Ie=be.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};be.fn.init.call(this,e,t),ke.debug({method:"init",message:"widget initialized"}),this._initDataSources(),this._render()},options:{name:"AssetManager",enable:!0,toolbarTemplate:'<div class="k-widget k-filebrowser-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"><label class="k-label" style="display:none">#=messages.toolbar.collections#<select data-role="dropdownlist"></select></label><div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-i-plus"></span>#:messages.toolbar.upload#<input type="file" name="file" accept="#=accept#" multiple /></div></div><button type="button" class="k-button k-button-icon" title="#:messages.toolbar.create#"><span class="k-icon k-i-file-add"></span></button><button type="button" class="k-button k-button-icon k-state-disabled" title="#:messages.toolbar.edit#"><span class="k-icon k-i-track-changes-enable"></span></button><button type="button" class="k-button k-button-icon k-state-disabled" title="#:messages.toolbar.delete#"><span class="k-icon k-i-delete"></span></button></div><div class="k-tiles-arrange"><div class="k-progressbar"></div><div class="k-widget k-search-wrap k-textbox"><input placeholder="#=messages.toolbar.search#" class="k-input"><a href="\\#" class="k-icon k-i-zoom k-search"></a></div></div></div>',itemTemplate:Oe,collections:[],schemes:{},extensions:[],messages:{dialogs:{cancel:{imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/close.svg",text:"Cancel"},confirm:"Confirm",newFile:"New file",ok:{imageUrl:"https://cdn.kidoju.com/images/o_collection/svg/office/ok.svg",text:"OK"},warningOverwrite:"Do you really want to overwite these files: `{0}`? Note that file updates take time to propagate across our Content Delivery Network while new files propagate instantly."},toolbar:{collections:"Collections:&nbsp;",create:"Create New",delete:"Delete",edit:"Edit",search:"Search",upload:"Upload"}}},events:[k.Z.CHANGE,k.Z.CLICK,k.Z.ERROR],value:function(){var e,t=this._selectedItem();return t instanceof ie&&(e=t.url),e},progress:function(e){var t;return this.progressBar instanceof Ze&&(t=this.progressBar.value(e)),t},select:function(e){var t;return w().type(e)===k.Z.NUMBER?t=this.listView.items().get(e):w().type(e)===k.Z.STRING&&(t=w()(e)),this.listView.select(t)},_initDataSources:function(){this._errorHandler=this._dataError.bind(this);var e=this;this._collections=function t(a,n){var i=[];return a.forEach((function(a){if(Array.isArray(a.collections))A.Z.ok(0===n,"AssetManager does not support more than one level of sub-collections"),i.push({name:a.name,collections:t(a.collections,n+1)});else{var o=B.Y.create(e._extendDataSourceOptions(a));w().isFunction(e._errorHandler)&&o.bind(k.Z.ERROR,e._errorHandler),i.push({dataSource:o,level:n,editor:a.editor,name:a.name,tools:a.tools})}})),i}(this.options.collections,0)},_extendDataSourceOptions:function(e){var t=this.options;return w().extend(!0,{filter:this._getDataSourceFilter(t.extensions),page:1,pageSize:12,schema:{data:function(e){return w().isPlainObject(e)&&Array.isArray(e.data)&&w().type(e.total)===k.Z.NUMBER?e.data:e},error:"error",total:"total"},schemes:t.schemes,serverFiltering:!1,serverPaging:!1},e)},_getDataSourceFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];A.Z.isArray(e,A.Z.format(A.Z.messages.isArray.default,"extensions"));var t=null;return 1===e.length?t={field:"url",operator:"endswith",value:e[0]}:e.length>1&&(t={logic:"or",filters:[]},e.forEach((function(e){t.filters.push({field:"url",operator:"endswith",value:e})}))),t},_render:function(){this.wrapper=this.element.addClass("k-widget kj-assetmanager"),this._tabStrip(),this._tabContent(),this._dropZone(),this.tabStrip.select(0),this.tabStrip.contentHolder(0).height("auto")},_tabStrip:function(){A.Z.isArray(this._collections,A.Z.format(A.Z.messages.isArray.default,"this._collections")),A.Z.hasLength(this._collections,A.Z.format(A.Z.messages.hasLength.default,"this._collections"));var e=w()("<".concat(k.Z.DIV,"/>")),t=w()("<".concat(k.Z.UL,"/>")).appendTo(e);this._collections.forEach((function(a){t.append("<li>".concat(a.name,"</li>")),e.append("<".concat(k.Z.DIV,"/>"))})),e.appendTo(this.element),this.tabStrip=e.kendoTabStrip({tabPosition:"left",animation:!1,select:this._onTabSelect.bind(this)}).data("kendoTabStrip")},_tabContent:function(){A.Z.instanceof(ve,this.tabStrip,A.Z.format(A.Z.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip")),this.fileBrowser=w()("<".concat(k.Z.DIV,"/>")).addClass("k-filebrowser k-dropzone").appendTo(this.tabStrip.contentHolder(0)),this._tabToolbar(),this._listView()},_tabToolbar:function(){var e,t,a,n,o,r,l,c,d,u,f,p,h=this.options,m=de(h.toolbarTemplate);this.toolbar=w()(m({accept:(h.extensions||[]).join(","),messages:h.messages})).appendTo(this.fileBrowser),this.dropDownList=s()(e=this.toolbar).call(e,ce("dropdownlist")).kendoDropDownList({dataSource:[],dataTextField:"name",dataValueField:"name",change:this._onDropDownListChange.bind(this)}).data("kendoDropDownList");var g=s()(t=this.toolbar).call(t,"div.k-tiles-arrange .k-progressbar").kendoProgressBar({type:"percent",min:0,max:1,animation:{duration:600}}).data("kendoProgressBar");this.progressBar=g,w()(document).on(i()(a="".concat(k.Z.PROGRESS)).call(a,Se),(function(e,t,a){g.value(t),"complete"===a&&setTimeout((function(){g.value(0)}),100)})),this.searchInput=s()(n=this.toolbar).call(n,"input.k-input"),this.toolbar.on(i()(o="".concat(k.Z.CHANGE)).call(o,Se),".k-upload input[type=file]",this._onFileInputChange.bind(this)).on(i()(r=i()(l=i()(c="".concat(k.Z.CLICK)).call(c,Se," ")).call(l,k.Z.TOUCHEND)).call(r,Se),"button:not(.k-state-disabled)",this._onButtonClick.bind(this)).on(i()(d="".concat(k.Z.CHANGE)).call(d,Se),"input.k-input",this._onSearchInputChange.bind(this)).on(i()(u=i()(f=i()(p="".concat(k.Z.CLICK)).call(p,Se," ")).call(f,k.Z.TOUCHEND)).call(u,Se),"a.k-i-close",this._onSearchClearClick.bind(this))},_onTabSelect:function(e){A.Z.isNonEmptyPlainObject(e,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"e")),A.Z.instanceof(window.HTMLLIElement,e.item,A.Z.format(A.Z.messages.instanceof.default,"e.item","HTMLLIElement")),A.Z.instanceof(ve,this.tabStrip,A.Z.format(A.Z.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip")),A.Z.instanceof(w(),this.fileBrowser,A.Z.format(A.Z.messages.instanceof.default,"this.fileBrowser","jQuery")),A.Z.isArray(this._collections,A.Z.format(A.Z.messages.isArray.default,"this._collections"));var t=w()(e.item).index(),a=this._collections[t];if(this.collection=a,Array.isArray(a.collections)&&a.collections.length){var n=Q(a.collections,1);this.collection=n[0],this.dropDownList.setDataSource(a.collections),this.dropDownList.select(0)}else this.dropDownList.setDataSource([]);this.tabStrip.contentHolder(t).height("auto"),this.fileBrowser.appendTo(this.tabStrip.contentHolder(t)),this._updateTab()},_updateTab:function(){var e,t,a,n,i,o;A.Z.isArray(this._collections,A.Z.format(A.Z.messages.isArray.default,"this._collections")),A.Z.isNonEmptyPlainObject(this.collection,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"this.collection"));var r=this.collection,l=r.tools||[];s()(e=this.toolbar).call(e,".k-toolbar-wrap > .k-label").toggle(r.level>0),s()(t=this.toolbar).call(t,".k-toolbar-wrap >.k-upload").toggle(l.indexOf("upload")>-1),s()(a=this.toolbar).call(a,".k-toolbar-wrap >.k-button").has(".k-i-file-add").toggle(l.indexOf("create")>-1),s()(n=this.toolbar).call(n,".k-toolbar-wrap >.k-button").has(".k-i-track-changes-enable").toggle(l.indexOf("edit")>-1),s()(i=this.toolbar).call(i,".k-toolbar-wrap >.k-button").has(".k-i-delete").toggle(l.indexOf("destroy")>-1),s()(o=this.toolbar).call(o,"div.k-tiles-arrange .k-progressbar").toggle(!!l.length),this.listView.setDataSource(r.dataSource),this.pager.setDataSource(r.dataSource),this.pager.refresh(),this.dropZone instanceof w()&&this.dropZone.toggleClass("k-state-nodrop",r.editable)},_onDropDownListChange:function(e){var t;A.Z.isNonEmptyPlainObject(e,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"e")),A.Z.instanceof(pe,e.sender,A.Z.format(A.Z.messages.instanceof.default,"e.sender","kendo.ui.DropDownList")),A.Z.instanceof(ve,this.tabStrip,A.Z.format(A.Z.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip"));var a=this.tabStrip.select().index(),n=this._collections[a];A.Z.isArray(n.collections,A.Z.format(A.Z.messages.isArray.default,"parent.collections"));var i=Q(h()(t=n.collections).call(t,(function(t){return t.name===e.sender.value()})),1);this.collection=i[0],this._updateTab()},_onFileInputChange:function(e){A.Z.instanceof(w().Event,e,A.Z.format(A.Z.messages.instanceof.default,"e","jQuery.Event")),A.Z.instanceof(window.HTMLInputElement,e.target,A.Z.format(A.Z.messages.instanceof.default,"e.target","HTMLInputElement"));var t=e.target.files;t instanceof X&&t.length&&this._uploadFileList(t)},_uploadFileList:function(e){A.Z.instanceof(X,e,A.Z.format(A.Z.messages.instanceof.default,"fileList","FileList"));var t=this;function a(){var a=_()(e).call(e,(function(e){return t._uploadFile(e)}));t._showUploadProgress(),w().when.apply(w(),W(a)).always(t._hideUploadProgress.bind(t))}for(var n=this.options,i=[],o=0,s=e.length;o<s;o++){var r=t._findDataItem(e[o].name);r&&i.push(r.name$())}i.length?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $(x()(e,{actions:[H.fn.options.messages.actions.ok,H.fn.options.messages.actions.cancel]}))}({type:fe.fn.type.warning,title:n.messages.dialogs.confirm,message:re(n.messages.dialogs.warningOverwrite,i.join("`, `"))}).then((function(e){"ok"===e.action&&a()})):a()},_showUploadProgress:function(){this.listView.element.addClass("k-loading")},_hideUploadProgress:function(){var e;s()(e=this.toolbar).call(e,".k-upload input[type=file]").val(""),this.listView.element.removeClass("k-loading")},_findDataItem:function(e){var t;A.Z.type(k.Z.STRING,e,A.Z.format(A.Z.messages.type.default,"fileName",k.Z.STRING)),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.instanceof(ne,this.listView.dataSource,A.Z.format(A.Z.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),A.Z.equal(this.collection.dataSource,this.listView.dataSource,A.Z.format(A.Z.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));for(var a,n=this.listView.dataSource.data(),o=e.lastIndexOf("."),s=i()(t="".concat(e.substr(0,o).replace(/[^\w\\/]+/gi,"_").replace(/_{2,}/g,"_").replace(/(^_|_$)/,""),".")).call(t,e.substr(o+1)),r=0,l=n.length;r<l;r++){var c;if(E()(c=n[r].url).call(c,s)){a=n[r];break}}return a},_createDataItem:function(e){A.Z.type(k.Z.OBJECT,e,A.Z.format(A.Z.messages.type.default,"file",k.Z.OBJECT)),A.Z.type(k.Z.NUMBER,e.size,A.Z.format(A.Z.messages.type.default,"file.size",k.Z.NUMBER)),A.Z.type(k.Z.STRING,e.type,A.Z.format(A.Z.messages.type.default,"file.type",k.Z.STRING)),A.Z.type(k.Z.STRING,e.url,A.Z.format(A.Z.messages.type.default,"file.url",k.Z.STRING)),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.instanceof(ne,this.listView.dataSource,A.Z.format(A.Z.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),A.Z.equal(this.collection.dataSource,this.listView.dataSource,A.Z.format(A.Z.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));var t=this._findDataItem(e.name);return t?(t.accept({size:e.size,type:e.type,url:e.url}),t._override=!0):t=new this.listView.dataSource.reader.model({size:e.size,type:e.type,url:e.url}),t},_insertDataItem:function(e){if(A.Z.instanceof(oe,e,A.Z.format(A.Z.messages.instanceof.default,"model","kendo.data.Model")),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.instanceof(ne,this.listView.dataSource,A.Z.format(A.Z.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),A.Z.equal(this.collection.dataSource,this.listView.dataSource,A.Z.format(A.Z.messages.equal.default,"this.listView.dataSource","this.collection.dataSource")),e._override)return e;for(var t=this.listView.dataSource,a=t.view(),n=a.length-1,i=0,o=a.length;i<o;i++)if("f"===a[i].get("type")){n=i;break}return n+=1,t.insert(n,e)},_uploadFile:function(e){A.Z.instanceof(window.Blob,e,A.Z.format(A.Z.messages.instanceof.default,"file","Blob")),A.Z.type(k.Z.STRING,e.name,A.Z.format(A.Z.messages.type.default,"file.name",k.Z.STRING)),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.instanceof(ne,this.listView.dataSource,A.Z.format(A.Z.messages.instanceof.default,"this.listView.dataSource","kendo.data.DataSource")),A.Z.isNonEmptyPlainObject(this.listView.dataSource.transport,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"this.listView.dataSource.transport")),A.Z.isFunction(this.listView.dataSource.transport.upload,A.Z.format(A.Z.messages.isFunction.default,"this.listView.dataSource.transport.upload"));var t=this,a=w().Deferred();return ke.debug({message:"Uploading file",method:"_uploadFile"}),t.listView.dataSource.transport.upload({data:{file:e},success:function(e){A.Z.type(k.Z.OBJECT,e,A.Z.format(A.Z.messages.type.default,"response",k.Z.OBJECT)),A.Z.isArray(e.data,A.Z.format(A.Z.messages.isArray.default,"reponse.data")),A.Z.equal(1,e.data.length,A.Z.format(A.Z.messages.equal.default,"response.data.length",1));var n=t._createDataItem(e.data[0]);A.Z.equal(n.name$(),e.data[0].name,A.Z.format(A.Z.messages.equal.default,"response.data[0].name","model.name$()")),t._insertDataItem(n),a.resolve(n)},error:function(e,n,i){a.reject(e,n,i),t._xhrErrorHandler(e,n,i)}}),a.promise()},_onButtonClick:function(e){A.Z.instanceof(w().Event,e,A.Z.format(A.Z.messages.instanceof.default,"e","jQuery.Event")),w()(e.currentTarget).has(".k-i-file-add").length?this.trigger(k.Z.CLICK,{action:Ee})||this._editNew():w()(e.currentTarget).has(".k-i-track-changes-enable").length?this.trigger(k.Z.CLICK,{action:Te})||this._editSelected():w()(e.currentTarget).has(".k-i-delete").length&&(this.trigger(k.Z.CLICK,{action:De})||this._deleteSelected())},_editNew:function(){A.Z.isNonEmptyPlainObject(this.collection,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"this.collection"));var e=this;if(e.collection.editor){ke.debug({method:"_editNew",message:"Open asset editor"});var t=e._getWindow();t.viewModel=e._getWindowViewModel(),t.title(e.options.messages.dialogs.newFile),t.content(e.collection.editor.template),te(t.element,t.viewModel),w().isFunction(e.collection.editor.resize)&&t.bind("resize",(function(t){e.collection.editor.resize.bind(t.sender)(t)})),t.center().open(),e.collection.editor.maximize&&t.maximize()}},_editSelected:function(){A.Z.isNonEmptyPlainObject(this.collection,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"this.collection")),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.equal(this.collection.dataSource,this.listView.dataSource,A.Z.format(A.Z.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));var e=this,t=e.listView.dataItem(e.listView.select());if(e.collection.editor&&t instanceof oe){ke.debug({method:"_editSelected",message:"Open asset editor",data:t.toJSON()});var a=e._getWindow();a.viewModel=e._getWindowViewModel(t.url$()),a.title(a.viewModel.url.split("/").pop()),a.content(e.collection.editor.template),te(a.element,a.viewModel),w().isFunction(e.collection.editor.resize)&&a.bind("resize",(function(t){e.collection.editor.resize.bind(t.sender)(t)})),w().isFunction(e.collection.editor.openUrl)?a.one("open",(function(a){e.collection.editor.openUrl.bind(a.sender)(t.url$())})):ke.warn({method:"_editSelected",message:"The collection does not designate an editor implementing openUrl"}),a.center().open(),e.collection.editor.maximize&&a.maximize()}},_deleteSelected:function(){A.Z.isNonEmptyPlainObject(this.collection,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"this.collection")),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.equal(this.collection.dataSource,this.listView.dataSource,A.Z.format(A.Z.messages.equal.default,"this.listView.dataSource","this.collection.dataSource"));var e=this.listView.dataItem(this.listView.select());e instanceof oe&&(ke.debug({method:"_deleteSelected",message:"Asset deletion",data:e.toJSON()}),this.listView.dataSource.remove(e),this.listView.dataSource.sync())},_onSearchInputChange:function(e){A.Z.instanceof(w().Event,e,A.Z.format(A.Z.messages.instanceof.default,"e","jQuery.Event")),A.Z.instanceof(window.HTMLInputElement,e.target,A.Z.format(A.Z.messages.instanceof.default,"e.target","HTMLInputElement")),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),A.Z.instanceof(ne,this.listView.dataSource,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.data.DataSource"));var t=this._getDataSourceFilter(this.options.extensions),a=w()(e.target).val(),n={field:"url",operator:"contains",value:a};w().type(a)===k.Z.STRING&&a.length&&(t=Array.isArray(t)?D()(t).call(t).push(n):w().isPlainObject(t)&&w().type(t.field)===k.Z.STRING&&w().type(t.operator)===k.Z.STRING&&t.value?[t,n]:w().isPlainObject(t)&&"and"===t.logic&&Array.isArray(t.filters)?w().extend(!0,{},t).filters.push(n):w().isPlainObject(t)&&"or"===t.logic&&Array.isArray(t.filters)?{logic:"and",filters:[t,n]}:n),this.listView.dataSource.query({filter:t,page:1,pageSize:this.listView.dataSource.pageSize()})},_onSearchClearClick:function(){var e=this.searchInput;A.Z.instanceof(w(),e,A.Z.format(A.Z.messages.instanceof.default,"this.searchInput","jQuery")),""!==e.val()&&e.val("").trigger(k.Z.CHANGE+Se)},_listView:function(){A.Z.instanceof(w(),this.fileBrowser,A.Z.format(A.Z.messages.instanceof.default,"this.fileBrowser","jQuery"));var e=new ne;this.listView=w()('<ul class="k-reset k-floats k-tiles"/>').appendTo(this.fileBrowser).kendoListView({change:this._onListViewChange.bind(this),dataBound:this._onListViewDataBound.bind(this),dataSource:e,selectable:!0,template:de(this.options.itemTemplate)}).data("kendoListView"),A.Z.instanceof(he,this.listView,A.Z.format(A.Z.messages.instanceof.default,"this.listView","kendo.ui.ListView")),this.pager=w()('<div class="k-pager-wrap"></div>').appendTo(this.fileBrowser).kendoPager({autoBind:!1,dataSource:e}).data("kendoPager"),A.Z.instanceof(me,this.pager,A.Z.format(A.Z.messages.instanceof.default,"this.pager","kendo.ui.Pager"))},_onListViewChange:function(){var e,t;(A.Z.instanceof(ve,this.tabStrip,A.Z.format(A.Z.messages.instanceof.default,"this.tabStrip","kendo.ui.TabStrip")),A.Z.instanceof(w(),this.toolbar,A.Z.format(A.Z.messages.instanceof.default,"this.toolbar","jQuery")),this._selectedItem()instanceof ie)&&(s()(e=this.toolbar).call(e,".k-i-track-changes-enable").parent().removeClass("k-state-disabled"),s()(t=this.toolbar).call(t,".k-i-delete").parent().removeClass("k-state-disabled"),this.trigger(k.Z.CHANGE))},_computeStorageSize:function(){if(this.listView instanceof he&&this.progressBar instanceof Ze){for(var e=0,t=this.listView.dataSource.data(),a=0,n=t.length;a<n;a++)e+=t[a].size;this.progressBar.value(e/1e5)}},_onListViewDataBound:function(e){A.Z.isNonEmptyPlainObject(e,A.Z.format(A.Z.messages.isNonEmptyPlainObject.default,"e")),A.Z.instanceof(he,e.sender,A.Z.format(A.Z.messages.instanceof.default,"e.sender","kendo.ui.ListView"));var t=e.sender;if(this._computeStorageSize(),"add"===e.action&&Array.isArray(e.items)&&e.items.length)t._dataBoundUid=e.items[e.items.length-1].uid;else if("sync"===e.action&&w().type(t._dataBoundUid)===k.Z.STRING){var a;t.select(t.element.children(i()(a="[".concat(ee(k.Z.UID),'="')).call(a,t._dataBoundUid,'"]'))),t._dataBoundUid=void 0}else t.select(t.element.children().first())},_selectedItem:function(){var e,t=this.listView;if(t instanceof he){var a=t.select();a instanceof w()&&a.length&&(e=this.listView.dataSource.getByUid(a.attr(ee(k.Z.UID))))}return e},_getWindow:function(){var e=w()(_e).data("kendoWindow");return e instanceof we||(e=w()(re('<div class="{0} kj-no-padding kj-hidden-overflow"></div>',_e.substr(1))).appendTo(document.body).kendoWindow({actions:["Maximize","Close"],content:"",draggable:!0,modal:!0,resizable:!0,visible:!1,height:600,width:800,activate:function(){e.trigger("resize")},close:function(){e.unbind("resize"),e.content(""),e.viewModel=void 0}}).data("kendoWindow")),e},_getWindowViewModel:function(e){var t=this;return le({url:e||"",onCommand:function(e){"ToolbarSaveCommand"===e.command&&(e.preventDefault(),t.collection.editor&&w().isFunction(t.collection.editor.saveAs)?t.collection.editor.saveAs.bind(e.sender)(e.params.value,t):ke.warn({method:"_getWindowViewModel",message:"The collection does not designate an editor implementing saveAs"}))},onDialog:function(e){"vectorImage"===e.name&&(e.preventDefault(),t.collection.editor&&w().isFunction(t.collection.editor.openImageDialog)?t.collection.editor.openImageDialog.bind(e.sender)():ke.warn({method:"_getWindowViewModel",message:"The collection does not designate an editor implementing openImageDialog"}))}})},_xhrErrorHandler:function(e,t,a){w().noop(e,t,a)},_dataError:function(e){this.trigger(k.Z.ERROR,e)||this.collection.dataSource.cancelChanges()},_dropZone:function(){var e,t=this;e=navigator.userAgent.toLowerCase(),!/chrome/.test(e)&&/safari/.test(e)&&/windows/.test(e)||!X||(t.dropZone=w()(".k-dropzone",t.wrapper).on(k.Z.DRAGENTER+Se,(function(e){e.stopPropagation(),e.preventDefault()})).on(k.Z.DRAGOVER+Se,(function(e){e.preventDefault()})).on(k.Z.DROP+Se,t._onDrop.bind(t)),Ve(t.dropZone,(function(){t.wrapper.hasClass("k-state-disabled")||t.dropZone.hasClass("k-state-nodrop")||t.dropZone.addClass("k-dropzone-hovered")}),(function(){t.dropZone.removeClass("k-dropzone-hovered")})),Ve(w()(document),(function(){t.wrapper.hasClass("k-state-disabled")||t.dropZone.hasClass("k-state-nodrop")||t.dropZone.addClass("k-dropzone-active")}),(function(){t.dropZone.removeClass("k-dropzone-active")})))},_onDrop:function(e){if(e.stopPropagation(),e.preventDefault(),this.dropZone instanceof w()&&!this.dropZone.hasClass(".k-state-nodrop")){var t=e.originalEvent.dataTransfer.files;this._uploadFileList(t)}},destroy:function(){var e=this,t=e.wrapper;w()(document).off(Se),e.toolbar instanceof w()&&e.toolbar.off(Se),e.dropZone instanceof w()&&e.dropZone.off(Se),ye(t),e.tabStrip=void 0,e.dropDownList=void 0,e.progressBar=void 0,e.searchInput=void 0,e.toolbar=void 0,e.listView=void 0,e.pager=void 0,e.fileBrowser=void 0,e.dropZone=void 0,e.dataSource instanceof ne&&w().isFunction(e._errorHandler)&&e.dataSource.unbind(k.Z.ERROR,e._errorHandler),e.dataSource=void 0,e._errorHandler=void 0,be.fn.destroy.call(e),se(t),ke.debug({method:"destroy",message:"widget destroyed"})}});function Ce(e,t){var a=l()(e);if(f()){var n=f()(e);t&&(n=h()(n).call(n,(function(t){return g()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){je(e,t,a[t])})):v()?Object.defineProperties(e,v()(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,g()(a,t))}))}return e}function je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.prototype.hasOwnProperty.call(window.kendo.ui,"AssetManager")||ge(Ie);var Re=window.kendo,Ae=Re.bind,Pe=Re.ns,Be=Re.resize,Le=Re.roleSelector,xe=Re.ui.BaseDialog;var ze=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=w().Deferred(),n=xe.getElement(t.cssClass);n.css({padding:0}).addClass("k-tabstrip k-header");var o=n.kendoBaseDialog(Ne({title:(0,y.Z)("dialogs.assetmanager.title"),content:i()(e="<div data-".concat(Pe,'role="assetmanager" data-')).call(e,Pe,'bind="value:value"></div>'),data:{value:""},actions:[xe.fn.options.messages.actions.ok,xe.fn.options.messages.actions.cancel],width:860},t)).data("kendoBaseDialog");return o.unbind(k.Z.INITOPEN),o.one(k.Z.INITOPEN,(function(e){var t;s()(t=e.sender.element).call(t,Le("assetmanager")).kendoAssetManager(e.sender.options.assets),Ae(e.sender.element.children(),e.sender.viewModel)})),o.one(k.Z.SHOW,(function(e){Be(e.sender.element)})),o.bind(k.Z.CLICK,(function(e){var n=e.sender.viewModel.get("value"),i=!1;l()(t.assets.schemes).some((function(e){return i=d()(n).call(n,"".concat(e,"://"))})),i?a.resolve({action:e.action,data:e.sender.viewModel.toJSON()}):k.Z.RX_URL.test(n)&&e.action===xe.fn.options.messages.actions.ok.action&&t.assets.collections.length>0&&t.assets.collections[0].transport&&w().type(t.assets.collections[0].transport.import)===k.Z.FUNCTION?t.assets.collections[0].transport.import({data:{url:n},success:function(t){a.resolve({action:e.action,data:{value:t.data[0].url}})},error:a.reject}):k.Z.RX_URL.test(n)&&e.action!==xe.fn.options.messages.actions.ok.action?a.resolve({action:e.action,data:{value:""}}):a.reject(new Error("Unknown url scheme"))})),o.one(k.Z.CLOSE,(function(e){e.sender.element.removeClass("k-tabstrip k-header")})),o.open(),a.promise()}},40793:function(e,t,a){"use strict";var n=a(73609),i=a.n(n),o=(a(55031),a(52013)),s=a(52426),r=a(37e3),l=window.kendo.Class.extend({init:function(e){var t=(e||{}).collections||[],a=(e||{}).extensions||[],n=(e||{}).schemes||{};o.Z.isArray(t,o.Z.format(o.Z.messages.isArray.default,"options.collections")),o.Z.isArray(a,o.Z.format(o.Z.messages.isArray.default,"options.extensions")),o.Z.type(s.Z.OBJECT,n,o.Z.format(o.Z.messages.type.default,"options.schemes",s.Z.OBJECT)),this.collections=t,this.extensions=a,this.schemes=n},scheme2http:function(e){var t;return i().type(e)===s.Z.STRING&&(t=r.x.scheme2http(e,this.schemes)),t}});t.Z=l}}]);