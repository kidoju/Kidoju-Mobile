/*! Copyright ©2013-2021 Memba® Sarl. All rights reserved. - Version 0.3.8 dated Wed Jun 23 2021 */
(self.webpackChunkMemba_SmartQuiz=self.webpackChunkMemba_SmartQuiz||[]).push([[492],{65425:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return J}});var i=a(77766),s=a.n(i),n=a(2991),o=a.n(n),l=a(59340),r=a.n(l),u=a(73609),d=a.n(u),c=(a(55031),a(28490)),h=a(46121),f=a(52013),m=a(52426),p=a(52482),g=a(69301),Z=a.n(g),v=a(3850),b=a(10771),w=window.kendo,y=w.destroy,S=w.htmlEncode,E=Z()(w),k=w.ui,C=k.plugin,T=k.DataBoundWidget,N=new v.Z("widgets.imageset"),_=".kendoImageSet",I=T.extend({init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T.fn.init.call(this,t,e),N.debug({method:"init",message:"Widget initialized"}),this._render(),this._dataSource(),this.value(this.options.value),this.enable(!this.element.prop("disabled")&&this.options.enabled)},options:{name:"ImageSet",autoBind:!0,dataSource:[],enabled:!0,height:100,style:"",value:null,width:100},events:[m.Z.CHANGE],value:function(t){f.Z.nullableTypeOrUndef(m.Z.STRING,f.Z.format(f.Z.messages.nullableTypeOrUndef.default,"value",m.Z.STRING));var e,a=this.element;return d().type(t)===m.Z.UNDEFINED?e=a.val():this.dataSource instanceof b.r&&this.dataSource.total()>0&&t!==a.val()&&(this.dataSource.get(t)?a.val(t):a.val(this.dataSource.at(0).text),this.refresh()),e},items:function(){return[]},_render:function(){var t=this.element,e=this.options;f.Z.ok(t.is(m.Z.INPUT),"Please use an input tag to instantiate an ImageSet widget."),this.wrapper=this.element.wrap(d()("<".concat(m.Z.DIV,"/>")).attr({role:"button",style:e.style}).css({cursor:"pointer",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",display:"inline-block",outline:0}).height(e.height).width(e.width).addClass("".concat("kj-imageset"," ").concat(m.Z.INTERACTIVE_CLASS))).parent(),this.element.hide()},_dataSource:function(){this.dataSource instanceof b.r&&d().isFunction(this._refreshHandler)&&(this.dataSource.unbind(m.Z.CHANGE,this._refreshHandler),this._refreshHandler=void 0),this.options.dataSource!==m.Z.NULL&&(this.dataSource=b.r.create(this.options.dataSource),this._refreshHandler=this.refresh.bind(this),this.dataSource.bind(m.Z.CHANGE,this._refreshHandler),this.options.autoBind&&this.dataSource.fetch())},setDataSource:function(t){this.options.dataSource=t,this._dataSource()},enable:function(t){var e,a,i,n,o=this.wrapper,l=d().type(t)===m.Z.UNDEFINED||!!t;(o.attr({tabindex:-1}).off(_),l)&&o.attr({tabindex:0}).on(s()(e=s()(a=s()(i="".concat(m.Z.CLICK)).call(i,_)).call(a,m.Z.TOUCHEND)).call(e,_),this._onClick.bind(this)).on(s()(n="".concat(m.Z.KEYDOWN)).call(n,_),this._onKeyDown.bind(this))},_onClick:function(t){f.Z.instanceof(d().Event,t,f.Z.format(f.Z.messages.instanceof.default,"e","jQuery.Event"));var e=this.dataSource,a=this.element,i=e.get(this.value()),s=e.indexOf(i),n=s;s!==(n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey?0===s?e.total()-1:s-1:s===e.total()-1?0:s+1)&&(i=e.at(n),a.val(i.text),this.refresh(),this.trigger(m.Z.CHANGE))},_onKeyDown:function(t){f.Z.instanceof(d().Event,t,f.Z.format(f.Z.messages.instanceof.default,"e","jQuery.Event"));var e=this.dataSource,a=this.element,i=e.get(this.value()),s=e.indexOf(i),n=s;switch(t.which){case E.DOWN:case E.LEFT:n=0===s?e.total()-1:s-1;break;case E.RIGHT:case E.UP:case E.SPACEBAR:n=s===e.total()-1?0:s+1;break;case E.END:case E.PAGEUP:n=e.total()-1;break;case E.HOME:case E.PAGEDOWN:n=0}n!==s&&(i=e.at(n),a.val(i.text),this.refresh(),this.trigger(m.Z.CHANGE))},refresh:function(){var t=this.dataSource,e=this.wrapper,a=t.get(this.value());a&&e.attr({title:S(a.text)}).css({backgroundImage:"url(".concat(window.encodeURI(a.url),")")}),N.debug({method:"refresh",message:"Widget refreshed"})},destroy:function(){var t=this.wrapper;this.setDataSource(null),t.off(_),T.fn.destroy.call(this),y(t),N.debug({method:"destroy",message:"Widget destroyed"})}});Object.prototype.hasOwnProperty.call(window.kendo.ui,"ImageSet")||C(I);var D,H,x,A,R=a(32789),O=a(69495),P=a(47981),G=a(74012),U=a(98528),B=a(81293),K=a(76092),V=a(17757),W=a(40793),L=a(70103),M=a(79558),j=a(41894),q=window.kendo,z=q.format,F=q.ns,Q=O.Z,X=s()(D=s()(H="<input\n    data-".concat(F,'role="imageset"\n    data-')).call(H,F,'source="#: data$() #"\n    data-')).call(D,F,'style="#: attributes.style #" {0}>'),Y="data-".concat(F,'bind="value: #: properties.name #.value"'),$="data-".concat(F,'enabled="false"'),J=V.BaseTool.extend({id:"imageset",childSelector:"".concat(m.Z.DIV,".kj-imageset"),height:250,width:250,weight:1,menu:["attributes.data","","properties.question","properties.solution"],templates:{design:z(X,$),play:z(X,Y),review:z(X,s()(x="".concat(Y," ")).call(x,$))+V.BaseTool.fn.getHtmlCheckMarks()},attributes:{style:new B.Z({title:(0,h.Z)("tools.imageset.attributes.style.title"),validation:j.W0}),data:new R.Z({title:(0,h.Z)("tools.imageset.attributes.data.title"),defaultValue:(0,h.Z)("tools.imageset.attributes.data.defaultValue")})},properties:{name:new U.Z({title:(0,h.Z)("tools.imageset.properties.name.title")}),question:new P.Z({help:(0,h.Z)("tools.imageset.properties.question.help"),title:(0,h.Z)("tools.imageset.properties.question.title"),validation:j.pP}),solution:new G.Z({help:(0,h.Z)("tools.imageset.properties.solution.help"),title:(0,h.Z)("tools.imageset.properties.solution.title")}),validation:new K.Z({defaultValue:s()(A="".concat(L.Z.LIB_COMMENT)).call(A,M.hl.defaultKey),library:M.hl.library,title:(0,h.Z)("tools.imageset.properties.validation.title")}),success:new Q({defaultValue:1,title:(0,h.Z)("tools.imageset.properties.success.title"),validation:j.TZ}),failure:new Q({defaultValue:0,title:(0,h.Z)("tools.imageset.properties.failure.title"),validation:j.TZ}),omit:new Q({defaultValue:0,title:(0,h.Z)("tools.imageset.properties.omit.title"),validation:j.TZ})},getAssets:function(t){var e;return f.Z.instanceof(p.I,t,f.Z.format(f.Z.messages.instanceof.default,"component","PageComponent")),{audio:[],image:o()(e=t.get("attributes.data")).call(e,(function(t){return c.Z.image.scheme2http(t.url)})),video:[]}},getHtmlContent:function(t,e){return f.Z.instanceof(W.Z,c.Z.image,f.Z.format(f.Z.messages.instanceof.default,"assets.image","ToolAssets")),d().extend(t,{data$:function(){var e,a=o()(e=t.get("attributes.data")).call(e,(function(t){return{text:t.text,url:c.Z.image.scheme2http(t.url)}}));return r()(a)}}),V.BaseTool.fn.getHtmlContent.call(this,t,e)},validate:function(t,e){var a=V.BaseTool.fn.validate.call(this,t,e),i=this.name;return(!t.attributes||t.attributes.style&&!L.Z.RX_STYLE.test(t.attributes.style))&&a.push({type:m.Z.ERROR,index:e,message:z((0,h.Z)("tools.messages.invalidStyle"),i,e+1)}),t.attributes&&t.attributes.data&&L.Z.RX_DATA.test(t.attributes.data)||a.push({type:m.Z.ERROR,index:e,message:z((0,h.Z)("tools.messages.invalidData"),i,e+1)}),a}})}}]);