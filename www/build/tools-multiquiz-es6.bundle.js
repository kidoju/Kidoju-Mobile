/*! Copyright ©2013-2021 Memba® Sarl. All rights reserved. - Version 0.3.8 dated Wed Jun 23 2021 */
(self.webpackChunkMemba_SmartQuiz=self.webpackChunkMemba_SmartQuiz||[]).push([[7682],{13984:function(e,t,i){"use strict";var a=i(73609),s=i.n(a),l=(i(55031),i(94179),i(52426)),n=i(26986),o=window.kendo.attr,r=n.Z.extend({init:function(e,t){n.Z.fn.init.call(this,e),this.type=l.Z.BOOLEAN,this.defaultValue=this.defaultValue||!!this.nullable&&null,this.editor="input",this.attributes=s().extend({},this.attributes,t),this.attributes[o(l.Z.ROLE)]="switch"}});t.Z=r},33414:function(e,t,i){"use strict";var a=i(59340),s=i.n(a),l=i(73609),n=i.n(l),o=(i(55031),i(13604),i(52426)),r=i(26986),u=window.kendo.attr,c=r.Z.extend({init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;r.Z.fn.init.call(this,e),this.type=o.Z.STRING,this.defaultValue=this.defaultValue||(this.nullable?null:""),this.editor=o.Z.SELECT,this.attributes=n().extend({},this.attributes,t),this.attributes[u(o.Z.ROLE)]="dropdownlist",this.attributes[u("text-field")]="text",this.attributes[u("value-field")]="value",this.attributes[u("value-primitive")]=!0,this.attributes[u("source")]=s()(Array.isArray((e||{}).source)?e.source:[])}});t.Z=c},46933:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return et}});var a,s,l,n=i(77766),o=i.n(n),r=i(2991),u=i.n(r),c=i(59340),d=i.n(c),h=i(3649),p=i.n(h),f=i(73609),_=i.n(f),m=(i(55031),i(28490)),g=i(46121),v=i(52013),S=i(52426),b=i(52482),k=i(94473),y=i.n(k),T=i(92762),w=i.n(T),C=(i(96727),i(3850)),Z=i(34814),x=i(13514),L=i(68607),I=i(10771),E=window.kendo,V=E.attr,A=E.data.ObservableArray,O=E.destroy,D=E.format,z=E.ns,B=E.template,N=E.ui,q=N.DataBoundWidget,M=N.MultiSelect,j=N.plugin,F=N.Widget,H=new C.Z("widgets.multiquiz"),P=".kendoMultiQuiz",R=o()(a='<button class="k-button kj-multiquiz-item kj-multiquiz-button" data-'.concat(z,'uid="#: data.uid #" data-')).call(a,z,'value="#: data.{0} #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></button>'),K=o()(s='<div class="k-widget kj-multiquiz-item kj-multiquiz-image" data-'.concat(z,'uid="#: data.uid #" data-')).call(s,z,'value="#: data.{0} #"><div class="k-image" style="background-image:url(#: data.{1} #)"></div></div>'),W=o()(l='<span class="kj-multiquiz-item kj-multiquiz-link" data-'.concat(z,'uid="#: data.uid #" data-')).call(l,z,'value="#: data.{0} #">#: data.{0} #</span>'),G='<div class="kj-multiquiz-item kj-multiquiz-checkbox" data-'.concat(z,'uid="#: data.uid #"><input id="{2}_#: data.uid #" name="{2}" type="checkbox" class="k-checkbox" value="#: data.{0} #"><label class="k-checkbox-label" for="{2}_#: data.uid #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></label></div>'),J=".kj-multiquiz-item.kj-multiquiz-button",Q=".kj-multiquiz-item.kj-multiquiz-image",U=".kj-multiquiz-item.kj-multiquiz-link",X='[{0}="{1}"]',Y='.kj-multiquiz-item.kj-multiquiz-checkbox>input[type="checkbox"]',$="button",ee="checkbox",te="image",ie="link",ae="multiselect",se="checked",le=q.extend({init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};F.fn.init.call(this,e,t),H.debug({method:"init",message:"widget initialized"}),this._value=this.options.value,this.setOptions(this.options),this._render(),this._dataSource(),this.enable(this.options.enabled)},modes:{button:$,checkbox:ee,image:te,link:ie,multiselect:ae},options:{name:"MultiQuiz",autoBind:!0,dataSource:[],mode:$,shuffle:!1,textField:"text",imageField:"url",buttonTemplate:R,checkboxTemplate:G,imageTemplate:K,linkTemplate:W,multiSelectTemplate:'<span class="kj-multiquiz-item kj-multiquiz-multiselect"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1} #);"></span># } #<span class="k-text">#: data.{0} #</span></span>',itemStyle:{},selectedStyle:{},scaler:"div.kj-stage",stageElement:"div.kj-element",value:null,enabled:!0,messages:{placeholder:"Select..."}},setOptions:function(e){v.Z.isNonEmptyPlainObject(e,v.Z.format(v.Z.messages.isNonEmptyPlainObject.default,"options")),F.fn.setOptions.call(this,e);var t=this.options,i=t.buttonTemplate,a=t.checkboxTemplate,s=t.groupStyle,l=t.imageField,n=t.itemStyle,o=t.imageTemplate,r=t.linkTemplate,u=t.multiSelectTemplate,c=t.selectedStyle,d=t.textField;this._groupStyle=new x.Z(s||""),this._itemStyle=new x.Z(n||""),this._selectedStyle=new x.Z(c||""),this._buttonTemplate=B(D(i,d,l)),this._checkboxTemplate=B(D(a,d,l,(0,L.kb)())),this._imageTemplate=B(D(o,d,l)),this._linkTemplate=B(D(r,d,l)),this._multiSelectTemplate=D(u,d,l)},events:[S.Z.CHANGE],value:function(e){var t,i=this.options,a=this.dataSource;if(Array.isArray(e)||e instanceof A){if(a instanceof I.r){for(var s=function(e){var t;return y()(t=a.data()).call(t,(function(t){return t[i.textField]===e}))},l=e.length-1;l>=0;l--)s(e[l])||w()(e).call(e,l,1);this._value=e}else this._value=[];this._toggleSelection()}else if(_().type(e)===S.Z.NULL)_().type(this._value)!==S.Z.NULL&&(this._value=null,this._toggleSelection());else{if(_().type(e)!==S.Z.UNDEFINED)throw new TypeError("`value` is expected to be a an array if not null or undefined");t=this._value}return t},_render:function(){var e=this.element;this.wrapper=e.addClass("kj-multiquiz").addClass(S.Z.INTERACTIVE_CLASS),this.options.mode===ae&&this._layoutMultiSelect()},_layoutMultiSelect:function(){var e=this.element,t=this.options;this.multiSelect=_()("<".concat(S.Z.INPUT,">")).width("100%").appendTo(e).kendoMultiSelect({autoBind:t.autoBind,change:this._onMultiSelectChange.bind(this),open:this._onMultiSelectOpen.bind(this),dataSource:[],dataTextField:t.textField,dataValueField:t.textField,placeholder:t.messages.placeholder,itemTemplate:this._multiSelectTemplate,tagTemplate:this._multiSelectTemplate,value:t.value,height:400}).data("kendoMultiSelect")},_onMultiSelectChange:function(){v.Z.instanceof(M,this.multiSelect,v.Z.format(v.Z.messages.instanceof.default,"this.multiSelect","kendo.ui.MultiSelect"));var e=this.multiSelect.value();Array.isArray(e)||e instanceof A?this._value=e:this._value=null,this.trigger(S.Z.CHANGE,{value:this._value})},_onMultiSelectOpen:function(){var e=this.element,t=this.options,i=e.closest(t.scaler),a=(0,Z.Qf)(i),s=e.width(),l=e.height(),n=parseInt(e.css("font-size"),10),o=this.multiSelect.popup;o.element.css({fontSize:"".concat(Math.floor(n*a),"px"),minWidth:"".concat(Math.floor(s*a),"px"),width:"".concat(Math.floor(s*a),"px")}),setTimeout((function(){var s=e.closest(t.stageElement);if(i.length&&s.length){var n=s.position().top+i.offset().top,r=o.wrapper.position().top;r>n&&o.wrapper.css("top",r+(a-1)*l)}}),0)},_onCheckBoxClick:function(e){v.Z.instanceof(_().Event,e,v.Z.format(v.Z.messages.instanceof.default,"e","jQuery.Event"));var t=_()(e.currentTarget),i=t.val();Array.isArray(this._value)||this._value instanceof A||(this._value=[]);var a=this._value.indexOf(i),s=!!t.prop(se);if(s&&-1===a)this._value.push(i);else if(!s&&a>=0){var l;w()(l=this._value).call(l,a,1)}this._toggleCheckBoxes(),this.trigger(S.Z.CHANGE,{value:this._value})},_onButtonClick:function(e){v.Z.instanceof(_().Event,e,v.Z.format(v.Z.messages.instanceof.default,"e","jQuery.Event"));var t=_()(e.currentTarget),i=t.attr(V("value"));Array.isArray(this._value)||this._value instanceof A||(this._value=[]);var a=this._value.indexOf(i),s=t.hasClass(S.Z.SELECTED_CLASS);if(s||-1!==a){if(s&&a>=0){var l;w()(l=this._value).call(l,a,1)}}else this._value.push(i);this._toggleButtons(),this.trigger(S.Z.CHANGE,{value:this._value})},_onImageClick:function(e){v.Z.instanceof(_().Event,e,v.Z.format(v.Z.messages.instanceof.default,"e","jQuery.Event"));var t=_()(e.currentTarget),i=t.attr(V("value"));Array.isArray(this._value)||this._value instanceof A||(this._value=[]);var a=this._value.indexOf(i),s=t.hasClass(S.Z.SELECTED_CLASS);if(s||-1!==a){if(s&&a>=0){var l;w()(l=this._value).call(l,a,1)}}else this._value.push(i);this._toggleImages(),this.trigger(S.Z.CHANGE,{value:this._value})},_onLinkClick:function(e){v.Z.instanceof(_().Event,e,v.Z.format(v.Z.messages.instanceof.default,"e","jQuery.Event"));var t=this,i=_()(e.currentTarget),a=i.attr(V("value"));Array.isArray(t._value)||t._value instanceof A||(t._value=[]);var s=t._value.indexOf(a),l=i.hasClass(S.Z.SELECTED_CLASS);if(l||-1!==s){if(l&&s>=0){var n;w()(n=t._value).call(n,s,1)}}else t._value.push(a);t._toggleLinks(),t.trigger(S.Z.CHANGE,{value:t._value})},_toggleSelection:function(){switch(this.options.mode){case $:this._toggleButtons();break;case ee:this._toggleCheckBoxes();break;case te:this._toggleImages();break;case ie:this._toggleLinks();break;case ae:this._toggleMultiSelect()}},_toggleButtons:function(){var e=this._itemStyle,t=this._selectedStyle,i=this.element;y()(i).call(i,J).removeClass(S.Z.SELECTED_CLASS).attr("style","").css(e.toJSON()),(0,L.Nf)(this._value)&&this._value.forEach((function(a){y()(i).call(i,J+D(X,V("value"),a)).addClass(S.Z.SELECTED_CLASS).attr("style","").css(_().extend(e.toJSON(),t.toJSON()))}))},_toggleCheckBoxes:function(){var e=this._itemStyle,t=this._selectedStyle,i=this.element;i.children("div").attr("style","").css(e.toJSON()),y()(i).call(i,Y).prop(se,!1).parent().attr("style","").css(e.toJSON()),(0,L.Nf)(this._value)&&this._value.forEach((function(a){y()(i).call(i,Y+D(X,"value",a)).prop(se,!0).parent().attr("style","").css(_().extend({},e.toJSON(),t.toJSON()))}))},_toggleImages:function(){var e=this._itemStyle,t=this._selectedStyle,i=this.element;y()(i).call(i,Q).removeClass(S.Z.SELECTED_CLASS).attr("style","").css(e.toJSON()),(0,L.Nf)(this._value)&&this._value.forEach((function(a){y()(i).call(i,Q+D(X,V("value"),a)).addClass(S.Z.SELECTED_CLASS).attr("style","").css(_().extend({},e.toJSON(),t.toJSON()))}))},_toggleLinks:function(){var e=this._itemStyle,t=this._selectedStyle,i=this.element;y()(i).call(i,U).removeClass(S.Z.SELECTED_CLASS).attr("style","").css(e.toJSON()),(0,L.Nf)(this._value)&&this._value.forEach((function(a){y()(i).call(i,U+D(X,V("value"),a)).addClass(S.Z.SELECTED_CLASS).attr("style","").css(_().extend({},e.toJSON(),t.toJSON()))}))},_toggleMultiSelect:function(){v.Z.instanceof(M,this.multiSelect,v.Z.format(v.Z.messages.instanceof.default,"this.multiSelect","kendo.ui.MultiSelect")),this.multiSelect.value(this._value)},_dataSource:function(){if(this.dataSource instanceof I.r&&_().isFunction(this._refreshHandler)&&(this.dataSource.unbind(S.Z.CHANGE,this._refreshHandler),this._refreshHandler=void 0),_().type(this.options.dataSource)!==S.Z.NULL){this.dataSource=I.r.create(this.options.dataSource),this._refreshHandler=this.refresh.bind(this),this.dataSource.bind(S.Z.CHANGE,this._refreshHandler);var e=this.multiSelect;e instanceof M&&e.dataSource!==this.dataSource&&e.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()}},setDataSource:function(e){this.options.dataSource=e,this._dataSource()},refresh:function(e){var t=this,i=this,a=i.element,s=i.options;if(v.Z.instanceof(_(),a,v.Z.format(v.Z.messages.instanceof.default,"this.element","jQuery")),s.mode===ae)v.Z.instanceof(M,i.multiSelect,v.Z.format(v.Z.messages.instanceof.default,"that.multiSelect","kendo.ui.MultiSelect")),i.multiSelect.refresh(e);else{var l=i.dataSource.data();e&&e.items instanceof A&&(l=e.items),s.shuffle&&(l=(0,L.TV)(l)),a.empty(),_()(l).each((function(e,l){switch(s.mode){case $:_()(i._buttonTemplate(l)).css(t._itemStyle.toJSON()).appendTo(a);break;case te:_()(i._imageTemplate(l)).css(t._itemStyle.toJSON()).appendTo(a);break;case ie:_()(i._linkTemplate(l)).css(t._itemStyle.toJSON()).appendTo(a);break;case ee:_()(i._checkboxTemplate(l)).css(t._itemStyle.toJSON()).appendTo(a)}}))}-1===i.dataSource.data().indexOf(i._value)&&(i._value=null,i.trigger(S.Z.CHANGE,{value:i._value})),H.debug({method:"refresh",message:"widget refreshed"})},enable:function(e){var t=_().type(e)===S.Z.UNDEFINED||!!e;switch(this.options.mode){case $:this._enableButtons(t);break;case ee:this._enableCheckBoxes(t);break;case te:this._enableImages(t);break;case ie:this._enableLinks(t);break;case ae:this._enableMultiSelect(t)}},_enableButtons:function(e){var t,i,a=this.element;(a.off(P),e)&&a.on(o()(t=o()(i="".concat(S.Z.CLICK+P," ")).call(i,S.Z.TAP)).call(t,P),J,this._onButtonClick.bind(this));a.toggleClass(S.Z.DISABLED_CLASS,!e)},_enableCheckBoxes:function(e){var t=this.element;t.off(P),e?t.on(S.Z.CLICK+P,Y,this._onCheckBoxClick.bind(this)):t.on(S.Z.CLICK+P,Y,(function(e){e.preventDefault()})).on(S.Z.CHANGE+P,Y,(function(e){_()(e.target).prop("checked",!1)})),y()(t).call(t,Y).toggleClass(S.Z.DISABLED_CLASS,!e).prop("readonly",!e)},_enableImages:function(e){var t=this.element;t.off(P),e&&t.on(S.Z.CLICK+P,Q,this._onImageClick.bind(this)),t.toggleClass(S.Z.DISABLED_CLASS,!e)},_enableLinks:function(e){var t=this.element;t.off(P),e&&t.on(S.Z.CLICK+P,U,this._onLinkClick.bind(this)),t.toggleClass(S.Z.DISABLED_CLASS,!e)},_enableMultiSelect:function(e){v.Z.instanceof(M,this.multiSelect,v.Z.format(v.Z.messages.instanceof.default,"this.multiSelect","kendo.ui.MultiSelect")),this.multiSelect.enable(e)},destroy:function(){this.setDataSource(null),this.enable(!1),this.element.off(P),F.fn.destroy.call(this),O(this.element),H.debug({method:"destroy",message:"widget destroyed"})}});Object.prototype.hasOwnProperty.call(window.kendo.ui,"MultiQuiz")||j(le);var ne=i(13984),oe=i(33414),re=i(32789),ue=i(86902),ce=i.n(ue),de=i(14310),he=i.n(de),pe=i(20116),fe=i.n(pe),_e=i(34074),me=i.n(_e),ge=i(39649),ve=i.n(ge),Se=i(58957),be=i(26986);function ke(e,t){var i=ce()(e);if(he()){var a=he()(e);t&&(a=fe()(a).call(a,(function(t){return me()(e,t).enumerable}))),i.push.apply(i,a)}return i}function ye(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(i),!0).forEach((function(t){Te(e,t,i[t])})):ve()?Object.defineProperties(e,ve()(i)):ke(Object(i)).forEach((function(t){Object.defineProperty(e,t,me()(i,t))}))}return e}function Te(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var we,Ce,Ze,xe,Le,Ie,Ee,Ve,Ae=window.kendo.ns,Oe=be.Z.extend({init:function(e,t){be.Z.fn.init.call(this,e),this.type=void 0,this.defaultValue=this.defaultValue||[],this.editor=function(e,i){_()("<".concat(S.Z.DIV,"/>")).attr(ye(ye(ye({name:i.field},i.attributes),(0,Se.DX)(S.Z.BIND,"value: ".concat(i.field))),t)).appendTo(e).kendoMultiQuiz({mode:"checkbox",checkboxTemplate:'<div class="kj-multiquiz-item kj-multiquiz-checkbox" data-'.concat(Ae,'uid="#: data.uid #"><input id="{2}_#: data.uid #" name="{2}" type="checkbox" class="k-checkbox" value="#: data.{0} #"><label class="k-checkbox-label" for="{2}_#: data.uid #"># if (data.{1}) { #<span class="k-image" style="background-image:url(#: data.{1}$() #);"></span># } #<span class="k-text">#: data.{0} #</span></label></div>'),dataSource:new I.r({data:i.model.get("attributes.data")})})}}}),De=i(69495),ze=i(47981),Be=i(98528),Ne=i(81293),qe=i(76092),Me=i(17757),je=i(40793),Fe=i(70103),He=i(79558),Pe=i(41894),Re=window.kendo,Ke=Re.format,We=Re.htmlEncode,Ge=Re.ns,Je=Re.roleSelector,Qe=De.Z,Ue=o()(we=o()(Ce=o()(Ze=o()(xe="<div\n    data-".concat(Ge,'role="multiquiz"\n    data-')).call(xe,Ge,'mode="#: attributes.mode #"\n    data-')).call(Ze,Ge,'source="#: data$() #"\n    data-')).call(Ce,Ge,'item-style="#: attributes.itemStyle #"\n    data-')).call(we,Ge,'selected-style="#: attributes.selectedStyle #"\n    style="#: attributes.groupStyle #" {0}>\n    </div>'),Xe="data-".concat(Ge,'bind="value: #: properties.name #.value"'),Ye="data-".concat(Ge,'enable="false"'),$e="data-".concat(Ge,'shuffle="#: attributes.shuffle #"'),et=Me.BaseTool.extend({id:"multiquiz",childSelector:o()(Le="".concat(S.Z.DIV)).call(Le,Je("multiquiz")),field:{type:"object"},height:150,menu:["attributes.data","attributes.mode","","properties.question","properties.solution"],weight:1,width:420,templates:{design:Ke(Ue,Ye),play:Ke(Ue,o()(Ie="".concat(Xe," ")).call(Ie,$e)),review:Ke(Ue,o()(Ee="".concat(Xe," ")).call(Ee,Ye))+Me.BaseTool.fn.getHtmlCheckMarks()},attributes:{mode:new oe.Z({defaultValue:"checkbox",source:(0,g.Z)("tools.multiquiz.attributes.mode.source"),title:(0,g.Z)("tools.multiquiz.attributes.mode.title")},{style:"width: 100%;"}),shuffle:new ne.Z({title:(0,g.Z)("tools.multiquiz.attributes.shuffle.title")}),groupStyle:new Ne.Z({title:(0,g.Z)("tools.multiquiz.attributes.groupStyle.title"),validation:Pe.W0}),itemStyle:new Ne.Z({title:(0,g.Z)("tools.multiquiz.attributes.itemStyle.title"),validation:Pe.W0}),selectedStyle:new Ne.Z({title:(0,g.Z)("tools.multiquiz.attributes.selectedStyle.title"),validation:Pe.W0}),data:new re.Z({title:(0,g.Z)("tools.multiquiz.attributes.data.title"),defaultValue:(0,g.Z)("tools.multiquiz.attributes.data.defaultValue")})},properties:{name:new Be.Z({title:(0,g.Z)("tools.multiquiz.properties.name.title")}),question:new ze.Z({help:(0,g.Z)("tools.multiquiz.properties.question.help"),title:(0,g.Z)("tools.multiquiz.properties.question.title"),validation:Pe.pP}),solution:new Oe({defaultValue:[],help:(0,g.Z)("tools.multiquiz.properties.solution.help"),title:(0,g.Z)("tools.multiquiz.properties.solution.title")}),validation:new qe.Z({defaultValue:o()(Ve="".concat(Fe.Z.LIB_COMMENT)).call(Ve,He.V7.defaultKey),library:He.V7.library,title:(0,g.Z)("tools.multiquiz.properties.validation.title")}),success:new Qe({defaultValue:1,title:(0,g.Z)("tools.multiquiz.properties.success.title"),validation:Pe.TZ}),failure:new Qe({defaultValue:0,title:(0,g.Z)("tools.multiquiz.properties.failure.title"),validation:Pe.TZ}),omit:new Qe({defaultValue:0,title:(0,g.Z)("tools.multiquiz.properties.omit.title"),validation:Pe.TZ})},getAssets:function(e){var t;return v.Z.instanceof(b.I,e,v.Z.format(v.Z.messages.instanceof.default,"component","PageComponent")),{audio:[],image:u()(t=e.get("attributes.data")).call(t,(function(e){return m.Z.image.scheme2http(e.url)})),video:[]}},getHtmlContent:function(e,t){return v.Z.instanceof(je.Z,m.Z.image,v.Z.format(v.Z.messages.instanceof.default,"assets.image","ToolAssets")),_().extend(e,{data$:function(){var t,i=u()(t=e.get("attributes.data")).call(t,(function(e){return{text:e.text,url:m.Z.image.scheme2http(e.url)}}));return d()(i)}}),Me.BaseTool.fn.getHtmlContent.call(this,e,t)},onEnable:function(e,t){_().noop(e,t)},getHtmlValue:function(e){for(var t,i=e.get("value"),a=p()(t=i||[]).call(t),s=0;s<a.length;s++)a[s]=We(a[s]);return a.join("<br/>")},getHtmlSolution:function(e){for(var t,i=e.get("properties.solution"),a=p()(t=i||[]).call(t),s=0;s<a.length;s++)a[s]=We(a[s]);return a.join("<br/>")},validate:function(e,t){var i=Me.BaseTool.fn.validate.call(this,e,t),a=this.name;return(!e.attributes||e.attributes.groupStyle&&!Fe.Z.RX_STYLE.test(e.attributes.groupStyle)||e.attributes.itemStyle&&!Fe.Z.RX_STYLE.test(e.attributes.itemStyle)||e.attributes.selectedStyle&&!Fe.Z.RX_STYLE.test(e.attributes.selectedStyle))&&i.push({type:S.Z.ERROR,index:t,message:Ke((0,g.Z)("tools.messages.invalidStyle"),a,t+1)}),e.attributes&&e.attributes.data&&Fe.Z.RX_DATA.test(e.attributes.data)||i.push({type:S.Z.ERROR,index:t,message:Ke((0,g.Z)("tools.messages.invalidData"),a,t+1)}),i}})},96727:function(e,t,i){var a,s,l;i.amdD,s=[i(62550),i(95465),i(48213)],void 0===(l="function"==typeof(a=function(){return function(e,t){var i=window.kendo,a=i.ui,s=a.List,l=e.extend({A:65},i.keys),n=i._activeElement,o=i.data.ObservableArray,r=e.proxy,u="id",c="li",d="accept",h="filter",p="rebind",f="open",_="close",m="change",g="progress",v="select",S="deselect",b="aria-disabled",k="aria-readonly",y="k-state-focused",T="k-state-selected",w="k-hidden",C="k-state-hover",Z="k-state-disabled",x="k-no-click",L="disabled",I="readonly",E="off",V=".kendoMultiSelect",A="click"+V,O="keydown"+V,D="mouseenter"+V,z="mouseleave"+V,B=D+" "+z,N=/"/g,q=e.isArray,M=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],j=s.extend({init:function(t,a){var l,n=this;n.ns=V,s.fn.init.call(n,t,a),n._optionsMap={},n._customOptions={},n._wrapper(),n._tagList(),n._input(),n._textContainer(),n._loader(),n._clearButton(),n._tabindex(n.input),t=n.element.attr("multiple","multiple").hide(),(a=n.options).placeholder||(a.placeholder=t.data("placeholder")),(l=t.attr(u))&&(n._tagID=l+"_tag_active",l+="_taglist",n.tagList.attr(u,l),n.input.attr("aria-describedby",l)),n._initialOpen=!0,n._aria(),n._ariaSetLive(),n._dataSource(),n._ignoreCase(),n._popup(),n._tagTemplate(),n.requireValueMapper(n.options),n._initList(),n._reset(),n._enable(),n._placeholder(),a.autoBind?n.dataSource.fetch():a.value&&n._preselect(a.value),e(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),n._ariaSetSize(n.value().length),i.notify(n),n._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,messages:{singleTag:"item(s) selected",clear:"clear",deleteTag:"delete",noData:"No data found."},enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1,popup:null},events:[f,_,m,v,S,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);s.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._tagTemplate(),this._placeholder(),this._clearButton()},currentTag:function(e){var i=this;if(e===t)return i._currentTag;i._currentTag&&(i._currentTag.removeClass(y).removeAttr(u),i._currentTag.find(".k-select").attr("aria-hidden",!0),i.input.removeAttr("aria-activedescendant")),e&&(e.addClass(y).attr(u,i._tagID),e.find(".k-select").removeAttr("aria-hidden"),i.input.attr("aria-activedescendant",i._tagID)),i._currentTag=e},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this,t=e.ns;clearTimeout(e._busy),clearTimeout(e._typingTimeout),e.wrapper.off(t),e.tagList.off(t),e.input.off(t),e._clear.off(t),s.fn.destroy.call(e)},_aria:function(){var e=this,t=e.wrapper.find(".k-multiselect-wrap"),i=e.ul[0].id;t.attr({"aria-owns":i,"aria-controls":i}),e.ul.attr({"aria-live":e._isFilterEnabled()?"polite":"off","aria-multiselectable":!0}),e.input.attr("aria-controls",i),e._ariaLabel()},_activateItem:function(){this.popup.visible()&&s.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(t){var a=this,l=s.fn._listOptions.call(a,e.extend(t,{selectedItemChange:r(a._selectedItemChange,a),selectable:"multiple"})),n=this.options.itemTemplate||this.options.template,o=l.itemTemplate||n||l.template;return o||(o="#:"+i.expr(l.dataTextField,"data")+"#"),l.template=o,l},_setListValue:function(){s.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var i=this.dataSource.flatView(),a=this._optionsMap,s=this._value;this._state===p&&(this._state="");for(var l=0;l<e.added.length;l++)if(a[s(e.added[l].dataItem)]===t){this._render(i);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,i,a=e.items;for(i=0;i<a.length;i++)t=a[i],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(t){var a=this,s="input"!==t.target.nodeName.toLowerCase(),l=e(t.target),o=l.hasClass("k-select")||l.hasClass("k-icon");o&&(o=!l.closest(".k-select").children(".k-i-arrow-60-down").length),!s||o&&i.support.mobileOS||!t.cancelable||t.preventDefault(),o||(a.input[0]!==n()&&s&&a.input.focus(),1!==a.options.minLength||a.popup.visible()||a.open())},_inputFocus:function(){this._placeholder(!1,!0),this.wrapper.addClass(y)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(y),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===h&&(e._state=d,e.listView.skipUpdate(!0)),e.listView.bound()&&e.listView.isFiltered()&&(e.persistTagList=!0,e._clearFilter()),e.element.blur()},_removeTag:function(e,i){var a,s=this,l=s._state,n=e.index(),o=s.listView,r=o.value()[n],u=s.listView.selectedDataItems()[n],c=s._customOptions[r],p=o.element[0].children;if(s.trigger(S,{dataItem:u,item:e}))s._close();else{c!==t||l!==d&&l!==h||(c=s._optionsMap[r]);var f=function(){s.currentTag(null),i&&s._change(),s._close()};c===t&&o.select().length?(s.persistTagList=!1,o.select(o.select()[n]).done(f)):((a=s.element[0].children[c])&&(a.selected=!1),o.removeAt(n),o._removedAddedIndexes&&o._removedAddedIndexes.splice(n,1),p[c]&&p[c].classList.remove("k-state-selected"),"single"!==s.options.tagMode?e.remove():s._updateTagListHTML(),f())}},_tagListClick:function(t){t.preventDefault(),t.stopPropagation();var i=e(t.currentTarget);i.children(".k-i-arrow-60-down").length||this._removeTag(i.closest(c),!0)},_clearValue:function(){var t=this;"single"===t.options.tagMode?t._clearSingleTagValue():t.tagList.children().each((function(i,a){t._removeTag(e(a),!1)})),t.input.val(""),t._search(),t._change(),t.focus(),t._hideClear(),t._state===h&&(t._state=d)},_clearSingleTagValue:function(){for(var e=this,t=e.dataItems(),i=e.tagList.children(),a=e.persistTagList,s=0;s<t.length;s+=1)if(e.trigger(S,{dataItem:t[s],item:i.first()}))return void e._close();a&&(e.persistTagList=!1),e.listView.value([]),e.persistTagList=a},_focusHandler:function(){var e=this.input,t=n();e[0]===t||this.input.focus()},_editable:function(t){var i=this,a=t.disable,s=t.readonly,l=i.wrapper.off(V),n=i.tagList.off(V),o=i.element.add(i.input.off(V));s||a?(l.toggleClass(Z,a).toggleClass(x,s),o.attr(L,a).attr(I,s).attr(b,a).attr(k,s)):(l.removeClass(Z).removeClass(x).on(B,i._toggleHover).on("mousedown"+V+" touchend"+V,r(i._wrapperMousedown,i)).on(A,r(i._focusHandler,i)),i.input.on(O,r(i._keydown,i)).on("paste"+V,r(i._search,i)).on("input"+V,r(i._search,i)).on("focus"+V,r(i._inputFocus,i)).on("focusout"+V,r(i._inputFocusout,i)),i._clear.on(A+" touchend"+V,r(i._clearValue,i)),o.removeAttr(L).removeAttr(I).attr(b,!1).attr(k,!1),n.on(D,c,(function(){e(this).addClass(C)})).on(z,c,(function(){e(this).removeClass(C)})).on(A+" touchend"+V,"li.k-button .k-select",r(i._tagListClick,i)))},_close:function(){var e=this;e.options.autoClose?e.close():e.popup.position()},_filterSource:function(e,t){t||(t=this._retrieveData),this._retrieveData=!1,s.fn._filterSource.call(this,e,t)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){var t,i=this,a=i.input.val().toLowerCase(),s=i.listView.dataSource.filter();s&&s.filters.length>0&&(t=s.filters[0].value.toString().toLowerCase()),i._request&&(i._retrieveData=!1),i._retrieveData||!i.listView.bound()||i._state===d&&a!==t?(i._open=!0,i._state=p,i.listView.skipUpdate(!0),i.persistTagList=!(i._initialOpen&&!i.listView.bound()),i._filterSource(),i._focusItem()):i._allowOpening()&&(!i._initialOpen||i.options.autoBind||i.options.virtual||!i.options.value||e.isPlainObject(i.options.value[0])||i.value(i.value()||i._initialValues),i.popup._hovered=!0,i._initialOpen=!1,i.popup.open(),i._focusItem())},toggle:function(e){this[(e=e!==t?e:!this.popup.visible())?f:_]()},refresh:function(){this.listView.refresh()},_listBound:function(){var e=this,t=e.dataSource.flatView();e._render(t),e._renderFooter(),e._renderNoData(),e._toggleNoData(!t.length),e._resizePopup(),e._open&&(e._open=!1,e.toggle(e._allowOpening())),e.popup.position(),e._updateItemFocus(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e.trigger("dataBound")},_updateItemFocus:function(){var e=this,i=e.dataSource.flatView(),a=e.listView.skip(),s=a===t||0===a;i.length&&s&&(e.options.highlightFirst?e.listView.focusFirst():e.listView.focus(-1))},_inputValue:function(){var e=this,t=e.input.val();return e.options.placeholder===t&&(t=""),t},value:function(e){var i=this,a=i.listView,s=a.value().slice(),l=i.options.maxSelectedItems,n=a.bound()&&a.isFiltered();if(e===t)return s;i.persistTagList=!1,i.requireValueMapper(i.options,e),e=i._normalizeValues(e),null!==l&&e.length>l&&(e=e.slice(0,l)),n&&i._clearFilter(),a.value(e),i._old=i._valueBeforeCascade=e.slice(),n||i._fetchData(),i._ariaSetSize(i.value().length),i._toggleCloseVisibility()},_preselect:function(t,a){var s=this;q(t)||t instanceof i.data.ObservableArray||(t=[t]),(e.isPlainObject(t[0])||t[0]instanceof i.data.ObservableObject||!s.options.dataValueField)&&(s.dataSource.data(t),s.value(a||s._initialValues),s._retrieveData=!0)},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];i&&(i.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;0===e.listView.value().length||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done((function(){e._fetch=!1})))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,a=e.options,s=a.dataSource||{};(s=q(s)?{data:s}:s).select=t,s.fields=[{field:a.dataTextField},{field:a.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=r(e._showBusy,e),e._errorHandler=r(e._hideBusy,e)),e.dataSource=i.data.DataSource.create(s).bind(g,e._progressHandler).bind("error",e._errorHandler)},_reset:function(){var t=this,i=t.element,a=i.attr("form"),s=a?e("#"+a):i.closest("form");s[0]&&(t._resetHandler=function(){setTimeout((function(){t.value(t._initialValues),t._placeholder()}))},t._form=s.on("reset",t._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(t){var i=this;return null===t?t=[]:t&&e.isPlainObject(t)?t=[i._value(t)]:t&&e.isPlainObject(t[0])?t=e.map(t,(function(e){return i._value(e)})):q(t)||t instanceof o?q(t)&&(t=t.slice()):t=[t],t},_change:function(){var e=this,t=e.value();F(t,e._old)||(e._old=t.slice(),e.trigger(m),e.element.trigger(m)),e.popup.position(),e._ariaSetSize(t.length),e._toggleCloseVisibility()},_click:function(e){var t=this,i=e.item;e.preventDefault(),t._select(i).done((function(){t._activeItem=i,t._change(),t._close()}))},_getActiveItem:function(){return this._activeItem||e(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(a){var s,n=this,o=a.keyCode,r=n._currentTag,u=n.listView,c=n.input.val(),h=i.support.isRtl(n.wrapper),p=n.popup.visible(),f=0;if(o!==l.ENTER&&(this._multipleSelection=!1),o===l.DOWN){if(a.preventDefault(),!p)return n.open(),void(u.focus()||u.focusFirst());u.focus()?(!n._activeItem&&a.shiftKey&&(n._activeItem=u.focus(),f=-1),s=u.getElementIndex(n._getActiveItem().first()),u.focusNext(),u.focus()?a.shiftKey&&(this._multipleSelection=!0,n._selectRange(s,u.getElementIndex(u.focus().first())+f)):u.focusLast()):u.focusFirst()}else if(o===l.UP)p&&(!n._activeItem&&a.shiftKey&&(n._activeItem=u.focus(),f=1),s=u.getElementIndex(n._getActiveItem().first()),u.focusPrev(),u.focus()?a.shiftKey&&(this._multipleSelection=!0,n._selectRange(s,u.getElementIndex(u.focus().first())+f)):n.close()),a.preventDefault();else if(o===l.LEFT&&!h||o===l.RIGHT&&h)c||(r=r?r.prev():e(n.tagList[0].lastChild))[0]&&n.currentTag(r);else if(o===l.RIGHT&&!h||o===l.LEFT&&h)!c&&r&&(r=r.next(),n.currentTag(r[0]?r:null));else if(a.ctrlKey&&!a.altKey&&o===l.A&&p&&!n.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===u.items().length&&(n._activeItem=null),u.items().length&&n._selectRange(0,u.items().length-1);else if(o===l.ENTER&&p){if(!u.focus())return;if(a.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,u.focus().hasClass(T)))return void n._close();n._select(u.focus()).done((function(){n._change(),n._close()}))}else if(o===l.SPACEBAR&&a.ctrlKey&&p)n._activeItem&&u.focus()&&u.focus()[0]===n._activeItem[0]&&(n._activeItem=null),e(u.focus()).hasClass(T)||(n._activeItem=u.focus()),n._select(u.focus()).done((function(){n._change()})),a.preventDefault();else if(o===l.SPACEBAR&&a.shiftKey&&p){var _=u.getElementIndex(n._getActiveItem()),m=u.getElementIndex(u.focus());_!==t&&m!==t&&n._selectRange(_,m),a.preventDefault()}else if(o===l.ESC)p?a.preventDefault():(n.tagList.children().each((function(t,i){n._removeTag(e(i),!1)})),n._change()),n.close();else if(o===l.HOME)p?u.focus()?(a.ctrlKey&&a.shiftKey&&!n.options.virtual&&n._selectRange(u.getElementIndex(u.focus()[0]),0),u.focusFirst()):n.close():c||(r=n.tagList[0].firstChild)&&n.currentTag(e(r));else if(o===l.END)p?u.focus()?(a.ctrlKey&&a.shiftKey&&!n.options.virtual&&n._selectRange(u.getElementIndex(u.focus()[0]),u.element.children().length-1),u.focusLast()):n.close():c||(r=n.tagList[0].lastChild)&&n.currentTag(e(r));else if(o!==l.DELETE&&o!==l.BACKSPACE||c)if(!n.popup.visible()||o!==l.PAGEDOWN&&o!==l.PAGEUP)clearTimeout(n._typingTimeout),setTimeout((function(){n._scale()})),n._search();else{a.preventDefault();var g=o===l.PAGEDOWN?1:-1;u.scrollWith(g*u.screenHeight())}else{if(n._state=d,"single"===n.options.tagMode)return n._clearSingleTagValue(),n._change(),void n._close();o!==l.BACKSPACE||r||(r=e(n.tagList[0].lastChild)),r&&r[0]&&n._removeTag(r,!0)}},_hideBusy:function(){var e=this;clearTimeout(e._busy),e.input.attr("aria-busy",!1),e._loading.addClass(w),e._request=!1,e._busy=null,e._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(w),this._hideClear()},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(r(e._showBusyHandler,e),100))},_placeholder:function(e,a){var s=this,l=s.input,o=n(),r=s.options.placeholder,u=l.val(),c=l[0]===o,d=u.length;c&&!s.options.autoClose&&u!==r||(d=0,u=""),e===t&&(e=!1,l[0]!==o&&(e=!s.listView.selectedDataItems()[0])),s._prev=u,l.toggleClass("k-readonly",e).val(e?r:u),c&&!a&&i.caret(l[0],d,d),s._scale()},_scale:function(){var e,t=this,i=t.wrapper.find(".k-multiselect-wrap"),a=i.width(),s=t._span.text(t.input.val());i.is(":visible")?e=s.width()+25:(s.appendTo(document.documentElement),a=e=s.width()+25,s.appendTo(i)),t.input.width(e>a?a:e)},_option:function(e,a,s){var l="<option";return e!==t&&(-1!==(e+="").indexOf('"')&&(e=e.replace(N,"&quot;")),l+=' value="'+e+'"'),s&&(l+=" selected"),l+=">",a!==t&&(l+=i.htmlEncode(a)),l+"</option>"},_render:function(e){var t,i,a,s,l=this.listView.selectedDataItems(),n=this.listView.value(),o=e.length,r="";n.length!==l.length&&(l=this._buildSelectedItems(n));var u={},c={};for(s=0;s<o;s++)i=e[s],a=this._value(i),-1!==(t=this._selectedItemIndex(a,l))&&l.splice(t,1),c[a]=s,r+=this._option(a,this._text(i),-1!==t);if(l.length)for(s=0;s<l.length;s++)i=l[s],u[a=this._value(i)]=o,c[a]=o,o+=1,r+=this._option(a,this._text(i),!0);this._customOptions=u,this._optionsMap=c,this.element.html(r)},_buildSelectedItems:function(e){for(var t,i=this.options.dataValueField,a=this.options.dataTextField,s=[],l=0;l<e.length;l++)(t={})[i]=e[l],t[a]=e[l],s.push(t);return s},_selectedItemIndex:function(e,t){for(var i=this._value,a=0;a<t.length;a++)if(e===i(t[a]))return a;return-1},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout((function(){var t=e._inputValue();e._prev!==t&&(e._prev=t,e.search(t),e._toggleCloseVisibility())}),e.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&s.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(t){var i=this;i.angular(t,(function(){return{elements:i.tagList[0].children,data:e.map(i.dataItems(),(function(e){return{dataItem:e}}))}}))},updatePersistTagList:function(e,t){this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:e,removed:t})},_selectValue:function(e,t){var i,a,s,l=this,n=l.dataSource.total(),o=l.tagList,r=l._value;if(this.persistTagList)this.updatePersistTagList(e,t);else{if(l._angularTagItems("cleanup"),"multiple"===l.options.tagMode){for(s=t.length-1;s>-1;s--)i=t[s],o.children().length&&(o[0].removeChild(o[0].children[i.position]),l._setOption(r(i.dataItem),!1));for(s=0;s<e.length;s++)a=e[s],o.append(l.tagTemplate(a.dataItem)),l._setOption(r(a.dataItem),!0)}else{for((!l._maxTotal||l._maxTotal<n)&&(l._maxTotal=n),this._updateTagListHTML(),s=t.length-1;s>-1;s--)l._setOption(r(t[s].dataItem),!1);for(s=0;s<e.length;s++)l._setOption(r(e[s].dataItem),!0)}l._angularTagItems("compile"),l._placeholder()}},_updateTagListHTML:function(){var e=this,t=e.value(),i=e.dataSource.total(),a=e.tagList;a.html(""),t.length&&a.append(e.tagTemplate({values:t,dataItems:e.dataItems(),maxTotal:e._maxTotal,currentTotal:i}))},_select:function(t){var i=e.Deferred().resolve();if(!t)return i;var a=this,s=a.listView,l=s.dataItemByIndex(s.getElementIndex(t)),n=t.hasClass("k-state-selected");return a._state===p&&(a._state=""),a._allowSelection()||n?a.trigger(n?S:v,{dataItem:l,item:t})?(a._close(),i):(a.persistTagList=!1,s.select(t).done((function(){a._placeholder(),a._state===h&&(a._state=d,s.skipUpdate(!0))}))):i},_selectRange:function(t,i){var a,s=this,l=this.listView,n=this.options.maxSelectedItems,o=this._getSelectedIndices().slice(),r=[],u=function(t){l.select(t).done((function(){t.forEach((function(t){var i=l.dataItemByIndex(t),a=l.element.children()[t],n=e(a).hasClass("k-state-selected");s.trigger(n?v:S,{dataItem:i,item:e(a)})})),s._change()}))};if(o.length-1==i-t)return u(o);if(t<i)for(a=t;a<=i;a++)r.push(a);else for(a=t;a>=i;a--)r.push(a);for(null!==n&&r.length>n&&(r=r.slice(0,n)),a=0;a<r.length;a++){var c=r[a];-1==this._getSelectedIndices().indexOf(c)?o.push(c):o.splice(o.indexOf(c),1)}return o.length?(s.persistTagList=!1,u(o)):void 0},_input:function(){var t=this,i=t.element,a=i[0].accessKey,s=t._inputWrapper.children("input.k-input"),l="none"===this.options.filter?"none":"list";s[0]||(s=e('<input class="k-input" style="width: 25px" />').appendTo(t._inputWrapper)),i.removeAttr("accesskey"),t._focused=t.input=s.attr({autocomplete:E,role:"textbox",title:i[0].title,"aria-autocomplete":l}),a&&t._focused.attr("accesskey",a)},_tagList:function(){var t=this,i=t._inputWrapper.children("ul");i[0]||(i=e('<ul unselectable="on" class="k-reset"/>').appendTo(t._inputWrapper)),t.tagList=i},_tagTemplate:function(){var e,t=this,a=t.options,s=a.tagTemplate,l=a.dataSource,n="multiple"===a.tagMode,o=a.messages.singleTag;t.element[0].length&&!l&&(a.dataTextField=a.dataTextField||"text",a.dataValueField=a.dataValueField||"value"),e=n?i.template("#:"+i.expr(a.dataTextField,"data")+"#",{useWithBlock:!1}):i.template("#:values.length# "+o),t.tagTextTemplate=s=s?i.template(s):e,t.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+s(e)+'</span><span aria-hidden="true" unselectable="on" aria-label="'+(n?'delete" title="'+t.options.messages.deleteTag+'" aria-label="'+t.options.messages.deleteTag:"open")+'" class="k-select"><span class="k-icon '+(n?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=e('<span class="k-icon k-i-loading '+w+'"></span>').insertAfter(this.input)},_clearButton:function(){s.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-multiselect-clearable"))},_textContainer:function(){var t=i.getComputedStyles(this.input[0],M);t.position="absolute",t.visibility="hidden",t.top=-3333,t.left=-3333,this._span=e("<span/>").css(t).appendTo(this.wrapper)},_wrapper:function(){var t=this,i=t.element,a=i.parent("span.k-multiselect");a[0]||((a=i.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent())[0].style.cssText=i[0].style.cssText,a[0].title=i[0].title,e('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" role="combobox"/>').attr({"aria-expanded":!1}).insertBefore(i)),t.wrapper=a.addClass(i[0].className).removeClass("input-validation-error").css("display",""),t._inputWrapper=e(a[0].firstChild)},_ariaSetSize:function(e){var t=this.tagList.children();e&&t.length&&t.attr("aria-setsize",e)},_ariaSetLive:function(){var e=this;e.ul.attr("aria-live",e._isFilterEnabled()?"polite":"off")},_closeHandler:function(e){this.trigger(_)?e.preventDefault():(this.wrapper.find(".k-multiselect-wrap").attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_openHandler:function(e){this._adjustListWidth(),this.trigger(f)?e.preventDefault():(this.wrapper.find(".k-multiselect-wrap").attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))}});function F(e,t){var i;if(null===e&&null!==t||null!==e&&null===t)return!1;if((i=e.length)!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0}a.plugin(j)}(window.kendo.jQuery),window.kendo})?a.apply(t,s):a)||(e.exports=l)}}]);